# Single-File Components
- Component
  - 재사용 가능한 코드 블록(트리 형태)
  - 웹 페이지를 구성하는 재사용 가능한 UI
  - 코드 재사용성, 유지보수 좋음
- Single-File Components(SFC)
  - 웹페이지 구성(Root, Header, Main, Aside, Article, Item)
  - 구성은 세 부분으로 나뉨 (화면구조(template), 로직(script), 스타일(style))
  - 컴포넌트의 템플릿, 로직 및 스타일을 하나의 파일로 묶어낸 특수한 파일형식(.vue 파일)

## SFC build tool
- Vite
  - 프론트 엔드 개발 도구로써 빠른 개발 환경을 위한 빌드 도구와 개발 서버를 제공
  - 개발 서버의 시작속도가 매우 빠르고 코드 수정 시 실시간에 가까운 즉각적인 반영을 보여줌
  - 개발 시 파일을 필요할 때만 요청해 속도를 높이고, 배포 시에는 최적화된 파일로 묶어주는(번들링)역할 수행
- Build
  - 프로젝트의 소스 코드를 최적화하고 번들링하여 배포할 수 있는 형식으로 변환하는 과정 
  - 번들링: 여러 개로 흩어진 코드 파일을, 하나로 합쳐주는 작업
  - 개발 중에 사용되는 여러 소스 파일 및 리소스(JavaScript, CSS, 이미지 등)를 최적화된 형태로 조합하여 최종 소프트웨어 제품을 생성하는 것
  - Vite는 이러한 빌드 프로세스를 수행하는 데 사용하는 도구

## NPM
- Node Package Manager
  - Node.js의 기본 패키지 관리자
  - 개발자들이 만든 JavaScript 패키지를 모아놓은 거대한 저장소, 그 패키지들을 쉽게 설치하고 관리할 수 있게 해주는 명령어 도구
  - npm install 명령어 하나로 간편하게 다운로드하여 사용 가능
  - 프로젝트에 사용된 모든 패키지들의 목록과 버전을 package.json 파일에 기록
- Node JS
  - 브라우저에서만 실행하던 JavaScript를 로컬환경(서버)에서 실행가능하게 함
  - 프론트엔드와 백엔드에서 동일한 언어로 개발할 수 있게 됨

## 모듈과 번들러
- Module
  - 프로그램을 구성하는 독립적인 코드 블록
  - 한계
    - 애플리케이션이 발전함에 따라 처리해야 하는 JavaScript 모듈의 개수도 극적으로 증가
    - 성능 병목 현상 발생, 의존성(연결성)이 깊어지며 특정한 곳에서 발생한 문제가 어떤 모듈 간의 문제인지 파악하기 어려워 짐
    - 이를 해결하기 위한 도구 -> Bundler
- Bundler
  - 여러 모듈과 파일을 하나(혹은 여러 개)의 번들로 묶고 최적화하여 사용할 수 있게 만들어주는 도구
  - 여러 개로 나뉜 JavaScript 모듈 파일들을 하나의 파일로 합쳐주는 도구(의존성 관계 파악, 필요한 내용을 하나의 파일로 묶어줌)
  - 브라우저가 많은 파일을 각각 요청하여 생기는 **네트워크 부담**을 줄이고, 코드를 브라우저가 이해할 수 있는 형태로 변환해줌
  - 최종적으로 웹사이트의 로딩 속도 높임, 성능 최적화
  - import하지 않은 코드는 '트리 쉐이킹'을 통해, 최종 번들 파일에서 자동으로 제거
  - 역할
    - 의존성 관리, 코드 최적화, 리소스 관리 등
    - Bundler가 하는 작업을 Bundling이라 함
    - JS뿐 아니라 CSS, 이미지 등 모든 정적 자원을 함께 처리하고, 최적화
    - Vite는 Rollup이라는 Bundler 이용

## Vue Project 구조
1. public 디렉토리
  - 주로 다음 정적 파일을 위치 시킴
    - 소스코드에서 참조되지 않는 코드(번들러로 합쳐질 필요없는 파일)
    - 항상 같은 이름을 갖는 코드
    - import 할 필요 없는 코드
  - 항상 root 절대 경로를 사용하여 참조
    - public/icon.png -> /icon.png 로 참조 가능
2. src 디렉토리
  - 주요 소스코드를 포함하는 곳(핵심 코드를 관리)
    - 작업할 대부분의 소스 코드가 위치
  - assets
    - CSS, image
  - APP.vue
    - Vue 앱의 Root 컴포넌트(최상위 컴포넌트)
    - 다른 하위 컴포넌트들을 포함
    - 애플리케이션 전체의 레이아웃과 공통적인 요소를 정의
  - main.js
    - Vue 애플리케이션을 초기화하고, App.vue를 DOM에 마운트하는 시작점
    - 필요한 라이브러리를 import 하고 전역 설정을 수행
3. index.html
  - main.js에서 App.vue 컴포넌트를 렌더링하고, index.html 특정 위치를 마운트 시킴 -> Vue 앱이 SPA인 이유
    - SPA: 하나의 페이지 안에서, 내용만 바꿔가며 보여주는 웹 앱
    - 외부 리소스 로드 가능
4. 기타 설정 파일
  - jsconfig.json
    - 컴파일 옵션, 모듈 시스템 등 설정
  - vite.config.js
    - Vite 프로젝트 설정 파일
    - 플러그인, 빌드 옵션, 개발 서버 설정 등

## 패키지 관리
5. package.json
   - 프로젝트에 관한 기본 정보와 패키지 의존성을 정의하는 '설계도' 파일(메타데이터 파일)
   - 프로젝트가 어떤 패키지를 사용하고, 어ㅏ떤 스크립트를 실행할 수 있는지 명시
   - npm install 시 이를 참조하여 패키지를 설치(기준 제공)
   - 설명
     - 필요한 재료 목록(패키지)과 건축 계획서(대략적 규격, 버전 범위)를 알려주는 문서
6. package-lock.json
    - package.json 기반으로 실제 설치된 패키지들의 '정확한 버전 정보'를 기록하는 파일
    - 실제로 어느 버전의 패키지가 설치되었는지 확정하고 기록
    - 다른 환경에서도 동일한 패키지 구성을 재현 가능하게 함
    - 특징
      - 정확한 버전 고정
      - 빌드 안정성 보장
      - 자동 관리
        - npm install 결과가 반영되어 매번 자동 업데이트
7. node_modules
    - package.json과 package-lock.json에 따라 실제로 설치된 모든 패키지가 저장되는 곳
    - 프로젝트 실행 시 필요한 모든 라이브러리와 코드 파일을 보관
    - 애플리케이션 구동 시 참조되는 실제 데이터 저장소
    - 특징
      - npm install을 통해 설치된 모든 패키지(모듈)들이 실제로 저장
        - 개발 시 직접 수정할 필요는 없으며, npm install 시 자동 관리
        - 직접 수정 하지 않고, 필요 시 npm install로 언제든 재생성 가능
      - 용량 매우 클 수 있으며, 협업 시 일반적으로 Git으로 추적하지 않음(.gitignore에 포함)
- 패키지 관리 정리
  - package.json
    - 어떤 패키지가 필요하고 어떤 버전 범위를 허용할지 정의하는 '설계도'
  - package-lock.json
    - 실제로 설치한 패키지의 정확한 버전을 기록하는 '상세 내역서'
  - node_modules
    - 이 설계도와 내역서에 따라 내려 받은 실제 패키지 '자재 창고'
- 패키지 관리 주의사항
  - npm install을 입력하는 위치
    - 항상 프로젝트 루트 디렉토리(프로젝트를 생성한 폴더)에서 실행
  - node_modules 폴더 관리 주의
    - 필요할 때마다 npm install을 통해 재생성할 수 있으므로, 직접 수정하거나 Git으로 관리할 필요 없음
  - package.json과 package-lock.json 직접 편집 자제
    - npm install 패키지명 명령을 통해 자동 업데이트하는 것이 안전
  - 문제가 발생했을 때 재설치 고려
    - 패키지 버전 충돌이나 이상 동작이 의심될 때는 node modules 폴더를 삭제한 뒤 다시 npm install을 실행

## Virtual DOM
- Vue 에서는 직접적으로 DOM에 접근하는 것을 권장하지 않음
  - JavaScript에서 사용하는 DOM 접근 관련 메서드 사용 금지(querySelector 등)
    - 데이터 화면 불일치(상태 불일치)
    - 예측 불가능한 렌더링
    - 코드의 복잡성 증가
  - Vue의 ref()와 Lifecycle Hooks 함수를 사용해 간접적으로 접근하여 조작할 것
    - 성능과 코드의 예측 가능성을 극대화 하기 위해
  - 이를 가능하게 하는 것이 가상돔(Virtual DOM)
- Virtual DOM
  - 가상의 DOM을 메모리에 저장하고 실제 DOM과 동기화하는 프로그래밍 개념
  - 데이터 변경시, Vue는 실제 DOM을 바로 건드리지 않고 이 가상 설계도 위에서 변경 사항을 미리 시뮬레이션하고 차이점을 계산
  - 계산된 최소한의 변경 사항만 실제 DOM에 딱 한 번 적용하므로, 불필요한 렌더링 줄임, 성능 크게 향상
- 내부 렌더링 과정
  1. 작성한 HTML 템플릿을 Virtual DOM을 그려내는 설계도(렌더 함수 코드)로 변환
  2. 렌더 함수 코드를 바탕으로 Virtual DOM을 생성
  3. Virtual DOM을 실제 DOM에 마운트
  4. 컴포넌트의 데이터(반응형 상태)가 바뀔 때마다 새로운 가상돔을 만들어 이전과 비교하고, 바뀐 부분만 효율적으로 찾아 실제 DOM을 업데이트
- 가상돔 패턴 장점
  - 효율성
    - 실제 DOM 조작을 최소화하고, 변경된 부분만 업데이트하여 성능을 향상
  - 반응성
    - 데이터의 변경을 감지하고, Virtual DOM을 효율적으로 갱신하여 UI를 자동으로 업데이트
  - 추상화
    - 개발자는 실제 DOM 조작을 Vue에게 맡기고 컴포넌트와 템플릿을 활용하는 추상화된 프로그래밍 방식으로 원하는 UI 구조를 구성하고 관리할 수 있음

## Composition API , Option API
- Composition API
  - import해서 가져온 API 함수들을 사용하여 컴포넌트의 로직을 정의
    - JavaScript 느낌
  - Vue3 에서의 권장 방식
  - 규모가 있는 앱의 전체를 구축하려는 경우
- Option API
  - data, methods 및 mounted 같은 **객체를 사용**하여 컴포넌트의 로직을 정의
    - 객체로 정의 후 사용
  - Vue2 에서의 작성 방식(Vue3에서도 지원)
  - 빌드 도구를 사용하지 않거나 복잡성이 낮은 프로젝트에서 사용하려는 경우

## 참고
- Single Root Element
  - 모든 컴포넌트에는 최상단 HTML 요소가 작성되는 것이 권장
  - 가독성, 스타일링, 명확한 컴포넌트 구조를 위해 각 컴포넌트에는 최상단 HTML 요소를 작성해야 함(Single Root Element)
- CSS scoped
  - '<style scoped></style>'
  - 해당 파일에서만 CSS 적용됨(범위 지정)
  - 사용 안하면 전역에 영향을 미침
- 부모-자식 관계에서의 스타일 전파
  - 자식 컴포넌트의 **최상위 요소** 에는 **부모 컴포넌트의 scoped 스타일도 영향**줄 수 있음

## Scaffolding(스캐폴딩)
- 새로운 프로젝트나 모듈을 시작할 때, 초기 구조와 코드를 자동으로 생성하는 과정
- npm create cue@latest 와 같은 명령어
- HHTML/CSS/JS 를 한 파일에 혼합
  - '파일 타입'에 따른 결합 X -> '사용 목적'에 따른 결합
